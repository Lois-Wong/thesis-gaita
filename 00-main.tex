%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           AUTHOR: BIBEKANANDA DATTA                        %%
%%                               (C) MARCH 2024                               %%
%%                      PhD STUDENT, MECHANICAL ENGINEERING                   %%
%%                           JOHNS HOPKINS UNIVERSITY                         %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%             PLEASE CHECK THE README.md FILE BEFORE YOU PROCEED             %%
%%              it may be convenient to read this file on GitHub              %%
%%   GitHub: https://github.com/bibekananda-datta/JHU-Dissertation-Template   %%
%% template hosted on this GitHub repository is likely to be the most updated %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% This is an unofficial dissertation template for Johns Hopkins University.
% As of March 25, 2024, the template follows the dissertation formatting 
% requirements provided by the  Johns Hopkins University Sheridan Library.
% It is the user's responsibility to ensure that the current requirements are 
% followed: https://www.library.jhu.edu/library-services/electronic-theses-dissertations/formatting-requirements/
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% VERSION HISTORY %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% The report-class-based template was created by R. Jacob Vogelstein in May 2007
% Updated by Noah J. Cowan on March 01, 2010
% Updated by Brian D. Weitzner on April 29, 2014 
% Updated by John Muschelli on January 29, 2016 
% Updated by Leonardo Collado Torres on April 13, 2016 
% Updated by John Clayton in December 2019
% Last Updated by Bibekananda Datta on March 25, 2024
% This version is heavily edited and customized from the previous version
%%%%%%%%%%%%%%%%%%%%%%%%%%% CURRENT VERSION INCLUDES %%%%%%%%%%%%%%%%%%%%%%%%%%%
% Reorganization of the necessary packages (you may need more) and their settings.
% Modularized all the settings, formatting, and macros. You can add more as needed.
% Added customization option for font size, typeface, and spacing.
% Added specific settings for adding quotes before or after the chapter headings.
% Added settings for including algorithm (algorithm2e) and codes (listing).
% Updated the appearance of table of contents, list of figures, and list of tables.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% VERSION HISTORY %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% if possible, please make your formatting changes here through the variables 
%% go through all the variables and understand what role they play in formatting
%%%%%%%%%%%%%%%%%%%%%% LIST OF VARIABLES FOR FORMATTING %%%%%%%%%%%%%%%%%%%%%%%%

%%%% additional paths and files
\def\BibFileName{thesis.bib}                % name of BibLaTeX file with all the bibliography
\def\FigurePath{figures}                    % subdirectory for the figure files

%%%% font size and typeset for different environments
%% check here for details: https://en.wikibooks.org/wiki/LaTeX/Fonts
\def\FontPackage{lmodern}                   % latin modern font
\def\BaseFont{12pt}                         % main text font size for document


\def\TitleFont{\Large\bfseries\MakeUppercase}   % font format for thesis title
\def\ChapterFont{\Large\bfseries\singlespacing} % font format for chapter label and title
\def\SectionFont{\large\bfseries}           % section heading font format
\def\SubsectionFont{\normalsize\bfseries}   % subsection heading font format
\def\SubsubsectionFont{\normalsize\itshape} % subsubsection heading font format
\def\CaptionFontSize{small}                 % caption font size
\def\CaptionFontType{bf}                    % boldface label for captions
\def\CaptionSeparator{colon}                % separates caption heading from text. can use 'period' as well


%%%% default text spacing set up for the main, front, and back matter
\def\MainTextSpacing{\doublespacing}        % double spacing in the main text (JH library requirement)
\def\TOCTextSpacing{\onehalfspacing}        % one-half spacing for TOC texts
\def\BibTextSpacing{\onehalfspacing}        % one-half spacing for bibliography
%% JH library does not specify spacing for TOC and bibliographic references


%%%% spacing between different environments
\def\ParagraphSpacing{\baselineskip}        % spacing between paragraph
\def\ParagraphIndent{0 pt}                  % indentation at the beginning of the paragraph
\def\FullCiteSpacing{1.25}                  % spacing in a fullcite item (stretch)
\def\LOTItemSpacing{7.25 pt}                % spacing between LOT/LOF items
\def\BibItemSpacing{0.5\baselineskip}       % spacing between bibliographic items in reference
\def\FootnoteSpacing{\baselineskip}         % spacing between footnotes
\def\CaptionSpacing{0 pt}                   % spacing between the figure and the caption (unit: pt)

%% if you have a longer quote, you may have to change it.
\def\QuoteWidth{0.75\textwidth}             % width epigraph-based quotes in chapter


%% if this seems too widespread for you, try changing it locally using
%% \begin{group} ... \renewcommand{\arraystretch} ... \end{group} commands
\def\GlobalTableSpacing{1.5}                % global spacing parameter for table


%%%% section tree level and their table of content appearance
\def\NoSectionLevel{3}                      % 3 levels for sections ... to subsubsection
\def\NoTocLevel{3}                          % no of levels showed in the table of contents
\def\TocIndent{0}                           % indentation in the list of figs and tables
%% 3 levels mean: section to subsubsection.. decrease if you want less to show in TOC


%%%% document formatting (JH library requirement and customizations)
\def\GlobalMargin{1.0in}                    % margin on all sides
\def\PrintingOffset{0.5in}                  % additional space on the left margin for the print copy

\def\HeaderHeight{18 pt}                    % height of the header (prints chapter details)
\def\HeaderSpace{12 pt}                     % space between header and the following text
\def\TitleTopSpacing{-\HeaderHeight-\HeaderSpace}

%%%% following numbers are found by trial and error to compensate for spacing around default LaTeX environments
\def\BeforeTOCTitleSpacing{-27 pt}          % adjustable space before TOC title
\def\AfterTOCTitleSpacing{33 pt}            % adjustable space after TOC title
\def\AfterLOTTitleSpacing{45 pt}            % adjustable space after LOT/ LOF title
\def\NumChapterTopMargin{-45 pt}            % adjustable space before numbered chapter label (unit: pt)
\def\UnNumChapterTopMargin{-68 pt}          % adjustable space before unnumbered chapter label
\def\ChapLabelToTitle{-24 pt}               % adjustable space between chapter label to title (unit: pt)
\def\ChapTitleToText{25 pt}                 % extra space between the chapter title and the following text
\def\SpaceBeforeQuote{-10 pt}               % adjustable white space before quote


%%%% pdflatex compression settings to generate compressed PDF (optional)
% \pdfcompresslevel=9
% \pdfminorversion=5
% \pdfobjcompresslevel=2

%%%%%%%%%%%%%%%%%%%% END LIST OF VARIABLES FOR FORMATTING %%%%%%%%%%%%%%%%%%%%%%





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% add packages as needed but sometimes the order of the packages matters.
%% I primarily tried to load the packages in alphabetical order unless or 
%% based on their functionalities (all math/ table packages) unless there 
%% is a dependency issue with packages, so I included packages in that order.
%% you may get warnings/ errors for the order in which packages are included
%% you may have to change the options in biblatex package for the bibliography
%%%%%%%%%%%%%%%%%%%%%%%%%% LaTeX CLASS AND PACKAGES %%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[\BaseFont,letterpaper]{report}% report document class w/ 12 pt font

\usepackage[utf8]{inputenc}                 % for encoding input character
\usepackage[pagewise,mathlines]{lineno}     % linenumbers for drafting

%%%% useful math packages
\usepackage{amsfonts,amssymb,amsmath,amsthm,autobreak,cancel,dsfont,mathtools,mathbbol,mathrsfs,siunitx,upgreek}

\usepackage[ruled]{algorithm2e}             % to manage algorithm environment
\usepackage[titletoc]{appendix}             % to manage appendix chapters
\usepackage[american]{babel}                % for different language typography

%%%% bibliographic package (make sure your bib file is in BibLaTeX format)
%% use Zotero or some other reference manager to generate the BibLaTeX file
%% change the style or other options if you need to
\usepackage[backend=biber, defernumbers=true, style=nature, maxnames=9, date=year, isbn=false, url=false, doi=true]{biblatex}
% \usepackage[backend=biber, defernumbers=true, style=apa, isbn=false, url=false, doi=true]{biblatex}

\usepackage{blindtext}                      % to generate random filler texts
\usepackage{calc}                           % to set arithmetic arguments for spacing
\usepackage{caption}                        % to manage captions
\usepackage{color}                          % color related packages
\usepackage{comment}                        % to comment a large amount of text as env
\usepackage{epigraph,varwidth}              % for managing quotes
\usepackage{enumitem}                       % to manage list environment
\usepackage{float}                          % to manage floating environment
\usepackage[T1]{fontenc}                    % for font encoding
% footnote environment management
\usepackage[bottom,multiple,hang,flushmargin]{footmisc}      
\usepackage{graphicx,wrapfig}               % to manage images
\usepackage{geometry}                       % to manage margins and others
\usepackage{fancyhdr}                       % for header/ footer settings
\usepackage[dvipsnames]{xcolor}             % color-related package
\usepackage[a-1b]{pdfx}                     % to generate PDF/A file (before hyperref)
\usepackage[pdfa]{hyperref}                 % for hyperlink managemebt
\usepackage[all]{hypcap}                    % for captions on the side of figures
\usepackage{ifthen}                         % if-then statement in LaTeX
\usepackage{lscape}                         % landscape mode
\usepackage{listings,minted}                % to include codes 
\usepackage{csquotes}                       % yet another package to manage quote

%%%% table-related packages
\usepackage{booktabs,longtable,dcolumn,makecell,multicol,multirow,tabularx,xltabular,rotating}

\usepackage{pdfpages}                       % to include pdf file
\usepackage{setspace}                       % sets space between lines
\usepackage{seqsplit}                       % splits long character sequence
\usepackage[rightcaption]{sidecap}          % for sideway captions
\usepackage{tocloft}                        % to manage table of contents, etc.
\usepackage{textcomp}                       % text companion fonts in TS1
\usepackage[absolute]{textpos}              % position text at certain location
\usepackage{titlesec}                       % managing different title environments
\usepackage{parskip}                        % default spacing around environments
\usepackage{tikz}                           % drawing related package
\usepackage{subcaption}                     % individual panel and caption

%% add more packages and/or change options of the packages as needed

%%%%%%%%%%%%%%%%%%%%%%%%% END LaTeX CLASS AND PACKAGES %%%%%%%%%%%%%%%%%%%%%%%%






%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% if possible, make all of your changes through the defined variables above.
%% you can make the most common changes there before tweaking the following 
%% settings. if you are specific about some formatting and can not change them
%% by changing defined variables in the beginning, only then proceed to the 
%% next sections which include loading proper package options, redefining 
%% different environments, document formatting, settings for special packages 
%% (epigraph, algorithm, listings, etc). be cautious before making any changes.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% PACKAGE OPTIONS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%% add all the images to that folder for cleaner file management
%% you can add images in chapter-wise PDF format (my preference).
\graphicspath{{\FigurePath/}}


%%%% this file has to be in BibLaTeX format. Use Zotero or another citation manager 
%% to generate the .bib file in BibLaTeX format.
\addbibresource{\BibFileName}


%%%% defining Hopkins-branded custom colors in case you want to use it
%% you can define your own color and use it for different environments
\definecolor{HeritageBlue}{RGB}{0,45,114}       % heritage blue
\definecolor{SpiritBlue}{RGB}{114,172,229}      % spirit blue


%% margin settings required by JH library using geometry package
%% if you have a long chapter title you may need to customize the header settings here
\geometry{letterpaper, margin=\GlobalMargin, bindingoffset=\PrintingOffset, nomarginpar, includehead, headheight=\HeaderHeight, headsep=\HeaderSpace, includefoot, heightrounded}
%% you can add showframe option to see how the layout looks like if needed 


%% settings for the hyperref package
\hypersetup{linktocpage, unicode, linktoc=all, colorlinks=true, citecolor=blue, filecolor=blue, linkcolor=blue, urlcolor=blue}

\urlstyle{rm}           % removes default \texttt style for hyperlinks


%% settings for caption package (customize or add more as needed)
\captionsetup{belowskip=\CaptionSpacing, font=\CaptionFontSize, labelfont=\CaptionFontType, labelsep=\CaptionSeparator, hypcap=true} 


%% settings for TikZ library (you can add more settings here)
\usetikzlibrary{positioning,shapes,arrows}

%%%%%%%%%%%%%%%%%%%%%%%%%%%% END PACKAGE OPTIONS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%% MACROS FOR TITLE PAGE FORMATTING %%%%%%%%%%%%%%%%%%%%%%%%
%%%% macro commands for title page formatting
\newcommand{\ThesisTitle}[1]{
    \vspace*{\TitleTopSpacing}
    {\TitleFont {#1} \par}
}

\newcommand{\ThesisAuthor}[1]{by \\ #1 \\}

\newcommand{\ThesisStatement}[2]{
A {#1} submitted to The Johns Hopkins University in conformity \\
with the requirements for the degree of {#2}
}

\newcommand{\Location}{Baltimore, Maryland}

\newcommand{\ThesisDate}[2]{#1 #2}

\newcommand{\ThesisCopyright}[2]{
\begin{textblock*}{\textwidth}(\GlobalMargin +\PrintingOffset,9in)
    \copyright\ {#1} {#2} \\ All rights reserved
\end{textblock*}
\null
}

%%%%%%%%%%%%%%%%%%%% END MACROS FOR TITLE PAGE FORMATTING %%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%% REDEFINITION OF ENVIRONMENTS %%%%%%%%%%%%%%%%%%%%%%%%%%

%%%% UNNUMBERED CHAPTERS, SECTION, and SUBSECTION COMMAND for ADDING to TOC
%% removes the 'Chapter #' title while keeping it listed in the TOC
\newcommand\chap[1]{%
    \chapter*{#1}%
    \markboth{#1}{}
    \addcontentsline{toc}{chapter}{#1}}
  
%% removes the 'Section #' title while keeping it listed in the TOC
\newcommand\sect[1]{%
    \section*{#1}%
    \addcontentsline{toc}{section}{#1}}
  
%% removes the 'Subsection #' title while keeping it listed in the TOC
\newcommand\subsect[1]{%
    \subsection*{#1}%
    \addcontentsline{toc}{subsection}{#1}}

%% removes the 'Subsubsection #' title while keeping it listed in the TOC
\newcommand\subsubsect[1]{%
    \subsubsection*{#1}%
    \addcontentsline{toc}{subsubsection}{#1}}

%%%%%%%%%%%%%%%%%%%%%%% END REDEFINITION OF ENVIRONMENTS %%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%% DOCUMENT FORMATTING %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%% choice a font form (or add something else) for your thesis
\usepackage{\FontPackage}

\setcounter{tocdepth}{\NoTocLevel}                      % list depth in ToC
\setcounter{secnumdepth}{\NoSectionLevel}               % section to ... subsubsection ...


%%%% tocloft: modified macros/ commands for ToC, LoF, LoT
\newcommand{\mytableofcontents}{
    \renewcommand{\contentsname}{Table of Contents}
    \tableofcontents
}
%
\newcommand{\mylistoffigures}{
    \clearpage \phantomsection
    \addcontentsline{toc}{chapter}{List of Figures}
    \listoffigures
}
%
\newcommand{\mylistoftables}{
    \clearpage \phantomsection
    \addcontentsline{toc}{chapter}{List of Tables}
    \listoftables
}



%%%% package tocloft settings: font size and spacing around the titles of ToC/ LoT/ LoF
\renewcommand{\cfttoctitlefont}{\ChapterFont}
\renewcommand{\cftlottitlefont}{\ChapterFont}
\renewcommand{\cftloftitlefont}{\ChapterFont}

\setlength{\cftbeforetoctitleskip}{\BeforeTOCTitleSpacing}
\setlength{\cftbeforelottitleskip}{\BeforeTOCTitleSpacing}
\setlength{\cftbeforeloftitleskip}{\BeforeTOCTitleSpacing}
\setlength{\cftaftertoctitleskip}{\AfterTOCTitleSpacing}
\setlength{\cftafterlottitleskip}{\AfterLOTTitleSpacing}
\setlength{\cftafterloftitleskip}{\AfterLOTTitleSpacing}

%% tweak to TOC to add 'chapter' to the chapter name instead of a number only
%% set the width of the box based on the longest label name
\renewcommand{\cftchappresnum}{\chaptername\space}
\renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}}  % dots for chapters too
\setlength{\cftchapnumwidth}{\widthof{\textbf{Appendix~999~}}}


%% tweak to LOT and LOF to add 'Table'/ 'Figure' to the table/ figure caption listing
%% to change the distance to the start of the table/ figure title
\setlength{\cfttabindent}{\TocIndent pt}                % indentation from tables in LoT
\renewcommand{\cfttabpresnum}{\bfseries Table }
\setlength{\cfttabnumwidth}{\widthof{\textbf{Table~99.100~}}}
\setlength{\cftbeforetabskip}{\LOTItemSpacing}          % spacing between each item
%%
\setlength{\cftfigindent}{\TocIndent pt}                % indentation from figures in LoF
\renewcommand{\cftfigpresnum}{\bfseries Figure }
\setlength{\cftfignumwidth}{\widthof{\textbf{Figure~99.999~}}}
\setlength{\cftbeforefigskip}{\LOTItemSpacing}          % spacing between each item



%%%% titlesec package: settings for chapter label and title
\titleformat{\chapter}[display]{\ChapterFont}{\chaptertitlename\ \thechapter}{\ChapLabelToTitle}{\ChapterFont}
\titlespacing*{\chapter}{0pt}{\NumChapterTopMargin}{\ChapTitleToText} 
\titlespacing*{name=\chapter,numberless}{0pt}{\UnNumChapterTopMargin}{\ChapTitleToText}

%%%% titlesec: settings for sections, subsection, ... heading format
\titleformat*{\section}{\SectionFont}
\titleformat*{\subsection}{\SubsectionFont}
\titleformat*{\subsubsection}{\SubsubsectionFont}
%% if you had more levels then add settings for paragraph and all.

%%%% to customize space around different paragraph headings, use the following:
% \titlespacing*{environment-name}{space-left}{space-before}{space-after}



%%%% package parksip settings: for paragraph (and not title) spacing, roughly speaking
\renewcommand{\arraystretch}{\GlobalTableSpacing}   % spacing inside table
\setlength{\parskip}{\ParagraphSpacing}             % paragraph skip
\setlength{\parindent}{\ParagraphIndent}            % paragraph indentation
\setlength{\bibitemsep}{\BibItemSpacing}            % bib item separation 
\setlength{\footnotesep}{\FootnoteSpacing}          % separation between footnote


%%%% settings for math environment
\allowdisplaybreaks[1]                  % allows page break for long equations
\numberwithin{equation}{chapter}        % eqn no with chapter prefix
\setcounter{MaxMatrixCols}{20}          % no of maximum columns in matrix


%%%% package biblatex settings: bibliography package settings
\DeclareFieldFormat{titlecase}{\MakeSentenceCase*{#1}}
\AtBeginBibliography{\urlstyle{rm}}                 % roman font family for URL (DOI)

%% separate category for papers to be not cited in the bibliography
\DeclareBibliographyCategory{mypapers}             
\newcommand{\mybibexclude}[1]{\addtocategory{mypapers}{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%% END DOCUMENT FORMATTING %%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% following section is needed if EPIGRAPH package is used for quotes.
%% epigraph examples given in chapters 2 and 3 for relatively small quotes.
%% for longer quote break it down in multiple lines with line break and put
%% it inside spacing environment to make it appear tighter
%%%%%%%%%%%%%%%%%%%%%%%%%%%%% EPIGRAPH SETTINGS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%% Following settings allow the epigraph and the underline 
%% settings for arbitrary epigraph length
\renewcommand{\epigraphflush}{flushright}           % quote location
\renewcommand{\epigraphsize}{\small}
\setlength{\epigraphwidth}{\QuoteWidth}             % width of quote environment
\renewcommand{\textflush}{flushright}
\renewcommand{\sourceflush}{flushright}
%% A useful addition
\newcommand{\epitextfont}{\itshape}                 % quote font shape
\newcommand{\episourcefont}{\scshape}               % quote author name shape

%%%% settings for horizontal line of variable width
\makeatletter
\setlength{\beforeepigraphskip}{\SpaceBeforeQuote}
\newsavebox{\epi@textbox}
\newsavebox{\epi@sourcebox}
\newlength\epi@finalwidth
\renewcommand{\epigraph}[2]{%
    \vspace{\beforeepigraphskip}
    {\epigraphsize\begin{\epigraphflush}
    \epi@finalwidth=\z@
    \sbox\epi@textbox{%
        \varwidth{\epigraphwidth}
        \begin{\textflush}\epitextfont#1\end{\textflush}
        \endvarwidth
   }%
    \epi@finalwidth=\wd\epi@textbox
    \sbox\epi@sourcebox{%
        \varwidth{\epigraphwidth}
        \begin{\sourceflush}\episourcefont#2\end{\sourceflush}%
        \endvarwidth
   }%
    \ifdim\wd\epi@sourcebox>\epi@finalwidth 
        \epi@finalwidth=\wd\epi@sourcebox
    \fi
   \leavevmode\vbox{
        \hb@xt@\epi@finalwidth{\hfil\box\epi@textbox}
        \vskip 1ex         % gap between quote and rule
        \hrule height \epigraphrule
        \vskip 1ex         % gap between rule and author
        \hb@xt@\epi@finalwidth{\hfil\box\epi@sourcebox}
   }%
   \end{\epigraphflush}
   \vspace{\afterepigraphskip}}}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%% END EPIGRAPH SETTINGS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% add all your custom math settings and macros in the following section.
%% this is where LaTeX supremacy becomes a thing. you can customize a lot.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% MATH MACROS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\dC}{$^{\circ}$C}           % degree celsius symbol
\newcommand{\vect}[1]{\mathbf{#1}}      % boldface for vectors and tensors
\DeclareMathOperator{\T}{{\top}}        % transpose of a matrix/ tensor
\DeclareMathOperator{\tr}{tr}           % trace of a matrix
\DeclareMathOperator{\divg}{div}        % divergence of vector and tensor
\DeclareMathOperator{\grad}{grad}       % gradient of vector and tensor
\DeclareMathOperator{\curl}{curl}       % curl of vector and tensor


%% theorem-style remark environment
\theoremstyle{definition}
\newtheorem{remark}{Remark}

%% these are just some examples; add more macros for your custom symbols

%%%%%%%%%%%%%%%%%%%%%%%%%%%%% END MATH MACROS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% OTHER MACROS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\COMMENT}{\textcolor{red}}
\newcommand{\ADDCITATION}{\COMMENT{(ADD CITATION)}}

%% you can also add more simple comments here as you need

%%%%%%%%%%%%%%%%%%%%%%%%%%%% END OTHER MACROS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% \usepackage[unit=in,type=upperleft,color=red,showframe]{fgruler}


%%%%%%%%%%%%%%%%%%%%%%%%% DOCUMENT BEGINS HERE %%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

% \linenumbers                              % useful during drafting

\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{#1}{#1}}
\fancyhead[R]{}                             % empty top-right header throughout the document

%%%%%%%%%%%%%%%%%%%%%%%%%%%% FRONT MATTER %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{01-title}                          % includ the title page

%% chapter header and page numbering set up
%% header unnumbered chapters (to remove the headers, comment out the following lines)
\MainTextSpacing                            % double spacing for the contents
\pagenumbering{roman}                       % pagination style: roman numeral
\setcounter{page}{2}                        % page counter starts at roman ii
\fancyhead[L]{\nouppercase \leftmark}       % avoiding upper-case in header


%%%% add abstract, dedication, and acknowledgement (and any other front matter)
\include{02-abstract}
\include{03-dedication}
\include{04-acknowledgement}

%% you can add more front matter chapters if you have (follow library guidelines)


%%%% single spacing is too cluttered and double spacing is too wide-spread
{\clearpage
\TOCTextSpacing                             % one-half spacing for the table of contents
\hypersetup{linkcolor=black}                % local black hyperlink for TOC
%
\mytableofcontents
%
\mylistoftables
%
\mylistoffigures
}

%%%%%%%%%%%%%%%%%%%%%%%%%%% END FRONT MATTER %%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% MAIN TEXT %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\clearpage                                  % flushes the floats and the new page
\pagenumbering{arabic}                      % Arabic page numbering
\MainTextSpacing                            % restores double spacing in the chapter contents
\fancyhead[L]{\chaptername\ \thechapter. \nouppercase \leftmark}


%%%% include all the main text chapters
\include{05-chapter-1}
\include{06-chapter-2}
\include{07-chapter-3}
\include{08-chapter-4}
\include{09-chapter-5}

%% add more chapters as you need

%%%%%%%%%%%%%%%%%%%%%%%%%%%% END MAIN TEXT %%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%%%%%%%%%%%%%%%%%%%%%%%%%%%%% BACK MATTER %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%% bibliographic references
\clearpage
\BibTextSpacing                     % one-half spacing for the bib items (too widespread otherwise)
% you can also change the 'BibItemSeparation' variable to control the spacing
% header for unnumbered chapters (to remove the headers, comment out the following line)
\fancyhead[L]{\nouppercase \leftmark}

\include{10-references}             % include reference chapter


%%%% appendix chapters (optional)
\MainTextSpacing                    % restoring double spacing for the contents in appendices
%% full header for appendix chapters (to remove the headers, comment out the following line)
\fancyhead[L]{\appendixname\ \thechapter. \nouppercase \leftmark}

\include{11-appendix-A}
\include{12-appendix-B}

%% add more appendix chapters as you need


%%%% biographical sketch or curriculum vitae
%% you can write it as a chapter and add it using \include{...} statement
% \include{13-biography}


%% if you already have a CV as a PDF, add it to the main directory, and use
% \includepdf[pages=-]{John_Doe_CV.pdf}

%%%%%%%%%%%%%%%%%%%%%%%%%%% END BACK MATTER %%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}

%%%%%%%%%%%%%%%%%%%%%%%%% DOCUMENT ENDS HERE %%%%%%%%%%%%%%%%%%%%%%%%%%%